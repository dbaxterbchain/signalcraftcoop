{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.237.0"},"children":{"signalcraft-staging":{"id":"signalcraft-staging","path":"signalcraft-staging","constructInfo":{"fqn":"aws-cdk-lib.Stage","version":"2.237.0"},"children":{"staging-network":{"id":"staging-network","path":"signalcraft-staging/staging-network","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.237.0"},"children":{"Vpc":{"id":"Vpc","path":"signalcraft-staging/staging-network/Vpc","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-network/Vpc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"signalcraft-staging/staging-network/Vpc"}]}}},"publicSubnet1":{"id":"publicSubnet1","path":"signalcraft-staging/staging-network/Vpc/publicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.237.0"},"children":{"Subnet":{"id":"Subnet","path":"signalcraft-staging/staging-network/Vpc/publicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2a","cidrBlock":"10.0.0.0/18","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"signalcraft-staging/staging-network/Vpc/publicSubnet1"}],"vpcId":{"Ref":"Vpc8378EB38"}}}},"Acl":{"id":"Acl","path":"signalcraft-staging/staging-network/Vpc/publicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.237.0"}},"RouteTable":{"id":"RouteTable","path":"signalcraft-staging/staging-network/Vpc/publicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"signalcraft-staging/staging-network/Vpc/publicSubnet1"}],"vpcId":{"Ref":"Vpc8378EB38"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"signalcraft-staging/staging-network/Vpc/publicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VpcpublicSubnet1RouteTable15C15F8E"},"subnetId":{"Ref":"VpcpublicSubnet1Subnet2BB74ED7"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"signalcraft-staging/staging-network/Vpc/publicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"VpcIGWD7BA715C"},"routeTableId":{"Ref":"VpcpublicSubnet1RouteTable15C15F8E"}}}},"EIP":{"id":"EIP","path":"signalcraft-staging/staging-network/Vpc/publicSubnet1/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"signalcraft-staging/staging-network/Vpc/publicSubnet1"}]}}},"NATGateway":{"id":"NATGateway","path":"signalcraft-staging/staging-network/Vpc/publicSubnet1/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["VpcpublicSubnet1EIP411541E6","AllocationId"]},"subnetId":{"Ref":"VpcpublicSubnet1Subnet2BB74ED7"},"tags":[{"key":"Name","value":"signalcraft-staging/staging-network/Vpc/publicSubnet1"}]}}}}},"publicSubnet2":{"id":"publicSubnet2","path":"signalcraft-staging/staging-network/Vpc/publicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.237.0"},"children":{"Subnet":{"id":"Subnet","path":"signalcraft-staging/staging-network/Vpc/publicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2b","cidrBlock":"10.0.64.0/18","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"signalcraft-staging/staging-network/Vpc/publicSubnet2"}],"vpcId":{"Ref":"Vpc8378EB38"}}}},"Acl":{"id":"Acl","path":"signalcraft-staging/staging-network/Vpc/publicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.237.0"}},"RouteTable":{"id":"RouteTable","path":"signalcraft-staging/staging-network/Vpc/publicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"signalcraft-staging/staging-network/Vpc/publicSubnet2"}],"vpcId":{"Ref":"Vpc8378EB38"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"signalcraft-staging/staging-network/Vpc/publicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VpcpublicSubnet2RouteTableC5A6DF77"},"subnetId":{"Ref":"VpcpublicSubnet2SubnetE34B022A"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"signalcraft-staging/staging-network/Vpc/publicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"VpcIGWD7BA715C"},"routeTableId":{"Ref":"VpcpublicSubnet2RouteTableC5A6DF77"}}}}}},"privateSubnet1":{"id":"privateSubnet1","path":"signalcraft-staging/staging-network/Vpc/privateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.237.0"},"children":{"Subnet":{"id":"Subnet","path":"signalcraft-staging/staging-network/Vpc/privateSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2a","cidrBlock":"10.0.128.0/18","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"signalcraft-staging/staging-network/Vpc/privateSubnet1"}],"vpcId":{"Ref":"Vpc8378EB38"}}}},"Acl":{"id":"Acl","path":"signalcraft-staging/staging-network/Vpc/privateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.237.0"}},"RouteTable":{"id":"RouteTable","path":"signalcraft-staging/staging-network/Vpc/privateSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"signalcraft-staging/staging-network/Vpc/privateSubnet1"}],"vpcId":{"Ref":"Vpc8378EB38"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"signalcraft-staging/staging-network/Vpc/privateSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VpcprivateSubnet1RouteTable1979EACB"},"subnetId":{"Ref":"VpcprivateSubnet1SubnetCEAD3716"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"signalcraft-staging/staging-network/Vpc/privateSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"VpcpublicSubnet1NATGatewayA036E8A6"},"routeTableId":{"Ref":"VpcprivateSubnet1RouteTable1979EACB"}}}}}},"privateSubnet2":{"id":"privateSubnet2","path":"signalcraft-staging/staging-network/Vpc/privateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.237.0"},"children":{"Subnet":{"id":"Subnet","path":"signalcraft-staging/staging-network/Vpc/privateSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2b","cidrBlock":"10.0.192.0/18","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"signalcraft-staging/staging-network/Vpc/privateSubnet2"}],"vpcId":{"Ref":"Vpc8378EB38"}}}},"Acl":{"id":"Acl","path":"signalcraft-staging/staging-network/Vpc/privateSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.237.0"}},"RouteTable":{"id":"RouteTable","path":"signalcraft-staging/staging-network/Vpc/privateSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"signalcraft-staging/staging-network/Vpc/privateSubnet2"}],"vpcId":{"Ref":"Vpc8378EB38"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"signalcraft-staging/staging-network/Vpc/privateSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"VpcprivateSubnet2RouteTable4D0FFC8C"},"subnetId":{"Ref":"VpcprivateSubnet2Subnet2DE7549C"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"signalcraft-staging/staging-network/Vpc/privateSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"VpcpublicSubnet1NATGatewayA036E8A6"},"routeTableId":{"Ref":"VpcprivateSubnet2RouteTable4D0FFC8C"}}}}}},"IGW":{"id":"IGW","path":"signalcraft-staging/staging-network/Vpc/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"signalcraft-staging/staging-network/Vpc"}]}}},"VPCGW":{"id":"VPCGW","path":"signalcraft-staging/staging-network/Vpc/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"VpcIGWD7BA715C"},"vpcId":{"Ref":"Vpc8378EB38"}}}}}},"VpcId":{"id":"VpcId","path":"signalcraft-staging/staging-network/VpcId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.237.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"signalcraft-staging/staging-network/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"signalcraft-staging/staging-network/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.237.0"}}}},"Exports":{"id":"Exports","path":"signalcraft-staging/staging-network/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Output{\"Fn::GetAtt\":[\"Vpc8378EB38\",\"CidrBlock\"]}":{"id":"Output{\"Fn::GetAtt\":[\"Vpc8378EB38\",\"CidrBlock\"]}","path":"signalcraft-staging/staging-network/Exports/Output{\"Fn::GetAtt\":[\"Vpc8378EB38\",\"CidrBlock\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.237.0"}},"Output{\"Ref\":\"Vpc8378EB38\"}":{"id":"Output{\"Ref\":\"Vpc8378EB38\"}","path":"signalcraft-staging/staging-network/Exports/Output{\"Ref\":\"Vpc8378EB38\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.237.0"}},"Output{\"Ref\":\"VpcprivateSubnet1SubnetCEAD3716\"}":{"id":"Output{\"Ref\":\"VpcprivateSubnet1SubnetCEAD3716\"}","path":"signalcraft-staging/staging-network/Exports/Output{\"Ref\":\"VpcprivateSubnet1SubnetCEAD3716\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.237.0"}},"Output{\"Ref\":\"VpcprivateSubnet2Subnet2DE7549C\"}":{"id":"Output{\"Ref\":\"VpcprivateSubnet2Subnet2DE7549C\"}","path":"signalcraft-staging/staging-network/Exports/Output{\"Ref\":\"VpcprivateSubnet2Subnet2DE7549C\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.237.0"}},"Output{\"Ref\":\"VpcpublicSubnet1Subnet2BB74ED7\"}":{"id":"Output{\"Ref\":\"VpcpublicSubnet1Subnet2BB74ED7\"}","path":"signalcraft-staging/staging-network/Exports/Output{\"Ref\":\"VpcpublicSubnet1Subnet2BB74ED7\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.237.0"}},"Output{\"Ref\":\"VpcpublicSubnet2SubnetE34B022A\"}":{"id":"Output{\"Ref\":\"VpcpublicSubnet2SubnetE34B022A\"}","path":"signalcraft-staging/staging-network/Exports/Output{\"Ref\":\"VpcpublicSubnet2SubnetE34B022A\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.237.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"signalcraft-staging/staging-network/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.237.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"signalcraft-staging/staging-network/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.237.0"}}}},"staging-data":{"id":"staging-data","path":"signalcraft-staging/staging-data","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.237.0"},"children":{"DbSecurityGroup":{"id":"DbSecurityGroup","path":"signalcraft-staging/staging-data/DbSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-data/DbSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Signalcraft Postgres access","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"securityGroupIngress":[{"cidrIp":{"Fn::ImportValue":"staging-staging-network:ExportsOutputFnGetAttVpc8378EB38CidrBlock14DD2396"},"ipProtocol":"tcp","fromPort":5432,"toPort":5432,"description":"Allow Postgres within the VPC"}],"vpcId":{"Fn::ImportValue":"staging-staging-network:ExportsOutputRefVpc8378EB38272D6E3A"}}}}}},"Postgres":{"id":"Postgres","path":"signalcraft-staging/staging-data/Postgres","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseInstance","version":"2.237.0"},"children":{"SubnetGroup":{"id":"SubnetGroup","path":"signalcraft-staging/staging-data/Postgres/SubnetGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.SubnetGroup","version":"2.237.0"},"children":{"Default":{"id":"Default","path":"signalcraft-staging/staging-data/Postgres/SubnetGroup/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBSubnetGroup","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBSubnetGroup","aws:cdk:cloudformation:props":{"dbSubnetGroupDescription":"Subnet group for Postgres database","subnetIds":[{"Fn::ImportValue":"staging-staging-network:ExportsOutputRefVpcprivateSubnet1SubnetCEAD37168693D373"},{"Fn::ImportValue":"staging-staging-network:ExportsOutputRefVpcprivateSubnet2Subnet2DE7549CDF5ACE3D"}]}}}}},"Secret":{"id":"Secret","path":"signalcraft-staging/staging-data/Postgres/Secret","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseSecret","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-data/Postgres/Secret/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":{"Fn::Join":["",["Generated by the CDK for stack: ",{"Ref":"AWS::StackName"}]]},"generateSecretString":{"passwordLength":30,"secretStringTemplate":"{\"username\":\"postgres\"}","generateStringKey":"password","excludeCharacters":" %+~`#$&*()|[]{}:;<>?!'/@\"\\"}}}},"Attachment":{"id":"Attachment","path":"signalcraft-staging/staging-data/Postgres/Secret/Attachment","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.SecretTargetAttachment","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-data/Postgres/Secret/Attachment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecretTargetAttachment","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::SecretTargetAttachment","aws:cdk:cloudformation:props":{"secretId":{"Ref":"signalcraftstagingstagingdataPostgresSecret42CAE7DA3fdaad7efa858a3daf9490cf0a702aeb"},"targetId":{"Ref":"Postgres9DC8BB04"},"targetType":"AWS::RDS::DBInstance"}}}}}}},"Resource":{"id":"Resource","path":"signalcraft-staging/staging-data/Postgres/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBInstance","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBInstance","aws:cdk:cloudformation:props":{"allocatedStorage":"20","backupRetentionPeriod":1,"copyTagsToSnapshot":true,"dbInstanceClass":"db.t4g.micro","dbName":"signalcraft","dbSubnetGroupName":{"Ref":"PostgresSubnetGroup9F8A4D6E"},"deletionProtection":false,"engine":"postgres","engineVersion":"16.11","masterUsername":"postgres","masterUserPassword":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"signalcraftstagingstagingdataPostgresSecret42CAE7DA3fdaad7efa858a3daf9490cf0a702aeb"},":SecretString:password::}}"]]},"maxAllocatedStorage":40,"publiclyAccessible":false,"storageType":"gp2","vpcSecurityGroups":[{"Fn::GetAtt":["DbSecurityGroupE9D701AD","GroupId"]}]}}}}},"DbEndpoint":{"id":"DbEndpoint","path":"signalcraft-staging/staging-data/DbEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.237.0"}},"DbSecretArn":{"id":"DbSecretArn","path":"signalcraft-staging/staging-data/DbSecretArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.237.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"signalcraft-staging/staging-data/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"signalcraft-staging/staging-data/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.237.0"}}}},"Exports":{"id":"Exports","path":"signalcraft-staging/staging-data/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Output{\"Ref\":\"PostgresSecretAttachment75CD6F6F\"}":{"id":"Output{\"Ref\":\"PostgresSecretAttachment75CD6F6F\"}","path":"signalcraft-staging/staging-data/Exports/Output{\"Ref\":\"PostgresSecretAttachment75CD6F6F\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.237.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"signalcraft-staging/staging-data/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.237.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"signalcraft-staging/staging-data/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.237.0"}}}},"staging-cognito":{"id":"staging-cognito","path":"signalcraft-staging/staging-cognito","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.237.0"},"children":{"UserPool":{"id":"UserPool","path":"signalcraft-staging/staging-cognito/UserPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-cognito/UserPool/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_email","priority":1}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":false},"autoVerifiedAttributes":["email"],"emailVerificationMessage":"The verification code to your new account is {####}","emailVerificationSubject":"Verify your new account","policies":{"passwordPolicy":{"minimumLength":8,"requireLowercase":true,"requireUppercase":true,"requireNumbers":true,"requireSymbols":false}},"smsVerificationMessage":"The verification code to your new account is {####}","usernameAttributes":["email"],"userPoolName":"signalcraft-staging-users","verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"The verification code to your new account is {####}","emailSubject":"Verify your new account","smsMessage":"The verification code to your new account is {####}"}}}},"UserPoolDomain":{"id":"UserPoolDomain","path":"signalcraft-staging/staging-cognito/UserPool/UserPoolDomain","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolDomain","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-cognito/UserPool/UserPoolDomain/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolDomain","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolDomain","aws:cdk:cloudformation:props":{"domain":"signalcraft-staging","userPoolId":{"Ref":"UserPool6BA7E5F2"}}}}}}}},"UserPoolClient":{"id":"UserPoolClient","path":"signalcraft-staging/staging-cognito/UserPoolClient","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-cognito/UserPoolClient/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"allowedOAuthFlows":["code"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":["openid","email","profile"],"callbackUrLs":["https://staging.app.signalcraftcoop.com/auth/callback","http://localhost:5173/auth/callback"],"explicitAuthFlows":["ALLOW_USER_PASSWORD_AUTH","ALLOW_USER_SRP_AUTH","ALLOW_REFRESH_TOKEN_AUTH"],"generateSecret":false,"logoutUrLs":["https://staging.app.signalcraftcoop.com/","http://localhost:5173/"],"supportedIdentityProviders":["COGNITO"],"userPoolId":{"Ref":"UserPool6BA7E5F2"}}}}}},"UserPoolId":{"id":"UserPoolId","path":"signalcraft-staging/staging-cognito/UserPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.237.0"}},"UserPoolClientId":{"id":"UserPoolClientId","path":"signalcraft-staging/staging-cognito/UserPoolClientId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.237.0"}},"UserPoolDomain":{"id":"UserPoolDomain","path":"signalcraft-staging/staging-cognito/UserPoolDomain","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.237.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"signalcraft-staging/staging-cognito/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"signalcraft-staging/staging-cognito/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.237.0"}}}},"Exports":{"id":"Exports","path":"signalcraft-staging/staging-cognito/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Output{\"Ref\":\"UserPool6BA7E5F2\"}":{"id":"Output{\"Ref\":\"UserPool6BA7E5F2\"}","path":"signalcraft-staging/staging-cognito/Exports/Output{\"Ref\":\"UserPool6BA7E5F2\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.237.0"}},"Output{\"Ref\":\"UserPoolClient2F5918F7\"}":{"id":"Output{\"Ref\":\"UserPoolClient2F5918F7\"}","path":"signalcraft-staging/staging-cognito/Exports/Output{\"Ref\":\"UserPoolClient2F5918F7\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.237.0"}},"Output{\"Ref\":\"UserPoolUserPoolDomain9F01E991\"}":{"id":"Output{\"Ref\":\"UserPoolUserPoolDomain9F01E991\"}","path":"signalcraft-staging/staging-cognito/Exports/Output{\"Ref\":\"UserPoolUserPoolDomain9F01E991\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.237.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"signalcraft-staging/staging-cognito/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.237.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"signalcraft-staging/staging-cognito/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.237.0"}}}},"staging-api":{"id":"staging-api","path":"signalcraft-staging/staging-api","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.237.0"},"children":{"WebOrigin":{"id":"WebOrigin","path":"signalcraft-staging/staging-api/WebOrigin","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.237.0"}},"Cluster":{"id":"Cluster","path":"signalcraft-staging/staging-api/Cluster","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.Cluster","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-api/Cluster/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnCluster","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Cluster","aws:cdk:cloudformation:props":{}}}}},"ApiRepository":{"id":"ApiRepository","path":"signalcraft-staging/staging-api/ApiRepository","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.Repository","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-api/ApiRepository/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.CfnRepository","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECR::Repository","aws:cdk:cloudformation:props":{"imageScanningConfiguration":{"scanOnPush":true},"repositoryName":"signalcraft-api-staging"}}}}},"ApiLogs":{"id":"ApiLogs","path":"signalcraft-staging/staging-api/ApiLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-api/ApiLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":30}}}}},"ApiService":{"id":"ApiService","path":"signalcraft-staging/staging-api/ApiService","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs_patterns.ApplicationLoadBalancedFargateService","version":"2.237.0"},"children":{"LB":{"id":"LB","path":"signalcraft-staging/staging-api/ApiService/LB","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationLoadBalancer","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-api/ApiService/LB/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnLoadBalancer","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::LoadBalancer","aws:cdk:cloudformation:props":{"loadBalancerAttributes":[{"key":"deletion_protection.enabled","value":"false"}],"scheme":"internet-facing","securityGroups":[{"Fn::GetAtt":["ApiServiceLBSecurityGroup5C16BEF8","GroupId"]}],"subnets":[{"Fn::ImportValue":"staging-staging-network:ExportsOutputRefVpcpublicSubnet1Subnet2BB74ED74EB42ADC"},{"Fn::ImportValue":"staging-staging-network:ExportsOutputRefVpcpublicSubnet2SubnetE34B022AC8BB6627"}],"type":"application"}}},"SecurityGroup":{"id":"SecurityGroup","path":"signalcraft-staging/staging-api/ApiService/LB/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-api/ApiService/LB/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatically created Security Group for ELB signalcraftstagingstagingapiApiServiceLBE51C4E44","securityGroupIngress":[{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":80,"toPort":80,"description":"Allow from anyone on port 80"},{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":443,"toPort":443,"description":"Allow from anyone on port 443"}],"vpcId":{"Fn::ImportValue":"staging-staging-network:ExportsOutputRefVpc8378EB38272D6E3A"}}}},"to signalcraftstagingstagingapiApiServiceSecurityGroup76FBF5C3:3000":{"id":"to signalcraftstagingstagingapiApiServiceSecurityGroup76FBF5C3:3000","path":"signalcraft-staging/staging-api/ApiService/LB/SecurityGroup/to signalcraftstagingstagingapiApiServiceSecurityGroup76FBF5C3:3000","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupEgress","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupEgress","aws:cdk:cloudformation:props":{"description":"Load balancer to target","destinationSecurityGroupId":{"Fn::GetAtt":["ApiServiceSecurityGroup2592096B","GroupId"]},"fromPort":3000,"groupId":{"Fn::GetAtt":["ApiServiceLBSecurityGroup5C16BEF8","GroupId"]},"ipProtocol":"tcp","toPort":3000}}}}},"PublicListener":{"id":"PublicListener","path":"signalcraft-staging/staging-api/ApiService/LB/PublicListener","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationListener","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-api/ApiService/LB/PublicListener/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnListener","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::Listener","aws:cdk:cloudformation:props":{"defaultActions":[{"type":"forward","targetGroupArn":{"Ref":"ApiServiceLBPublicListenerECSGroup14A87FE9"}}],"loadBalancerArn":{"Ref":"ApiServiceLB08B891CD"},"port":80,"protocol":"HTTP"}}},"ECSGroup":{"id":"ECSGroup","path":"signalcraft-staging/staging-api/ApiService/LB/PublicListener/ECSGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationTargetGroup","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-api/ApiService/LB/PublicListener/ECSGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnTargetGroup","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::TargetGroup","aws:cdk:cloudformation:props":{"healthCheckPath":"/","port":80,"protocol":"HTTP","targetGroupAttributes":[{"key":"stickiness.enabled","value":"false"}],"targetType":"ip","vpcId":{"Fn::ImportValue":"staging-staging-network:ExportsOutputRefVpc8378EB38272D6E3A"}}}}}},"HttpRedirectRule":{"id":"HttpRedirectRule","path":"signalcraft-staging/staging-api/ApiService/LB/PublicListener/HttpRedirectRule","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationListenerRule","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-api/ApiService/LB/PublicListener/HttpRedirectRule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnListenerRule","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::ListenerRule","aws:cdk:cloudformation:props":{"actions":[{"type":"redirect","redirectConfig":{"statusCode":"HTTP_301","port":"443","protocol":"HTTPS"}}],"conditions":[{"field":"path-pattern","pathPatternConfig":{"values":["/*"]}}],"listenerArn":{"Ref":"ApiServiceLBPublicListener1394DF3E"},"priority":1}}}}}}},"HttpsListener":{"id":"HttpsListener","path":"signalcraft-staging/staging-api/ApiService/LB/HttpsListener","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationListener","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-api/ApiService/LB/HttpsListener/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnListener","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::Listener","aws:cdk:cloudformation:props":{"certificates":[{"certificateArn":{"Ref":"ApiCertificate1D5B2B3B"}}],"defaultActions":[{"type":"forward","targetGroupArn":{"Ref":"ApiServiceLBHttpsListenerHttpsTargetsGroup550E69B1"}}],"loadBalancerArn":{"Ref":"ApiServiceLB08B891CD"},"port":443,"protocol":"HTTPS"}}},"HttpsTargetsGroup":{"id":"HttpsTargetsGroup","path":"signalcraft-staging/staging-api/ApiService/LB/HttpsListener/HttpsTargetsGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationTargetGroup","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-api/ApiService/LB/HttpsListener/HttpsTargetsGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnTargetGroup","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::TargetGroup","aws:cdk:cloudformation:props":{"healthCheckPath":"/","port":3000,"protocol":"HTTP","targetGroupAttributes":[{"key":"stickiness.enabled","value":"false"}],"targetType":"ip","vpcId":{"Fn::ImportValue":"staging-staging-network:ExportsOutputRefVpc8378EB38272D6E3A"}}}}}}}}}},"LoadBalancerDNS":{"id":"LoadBalancerDNS","path":"signalcraft-staging/staging-api/ApiService/LoadBalancerDNS","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.237.0"}},"ServiceURL":{"id":"ServiceURL","path":"signalcraft-staging/staging-api/ApiService/ServiceURL","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.237.0"}},"TaskDef":{"id":"TaskDef","path":"signalcraft-staging/staging-api/ApiService/TaskDef","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.237.0"},"children":{"TaskRole":{"id":"TaskRole","path":"signalcraft-staging/staging-api/ApiService/TaskDef/TaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-api/ApiService/TaskDef/TaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}}}}},"Resource":{"id":"Resource","path":"signalcraft-staging/staging-api/ApiService/TaskDef/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":{"Fn::Join":["",[{"Fn::Select":[4,{"Fn::Split":[":",{"Fn::GetAtt":["ApiRepositoryB8378B43","Arn"]}]}]},".dkr.ecr.",{"Fn::Select":[3,{"Fn::Split":[":",{"Fn::GetAtt":["ApiRepositoryB8378B43","Arn"]}]}]},".",{"Ref":"AWS::URLSuffix"},"/",{"Ref":"ApiRepositoryB8378B43"},":latest"]]},"name":"web","portMappings":[{"containerPort":3000,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"ApiLogs3D05D88B"},"awslogs-stream-prefix":"api","awslogs-region":"us-west-2"}},"environment":[{"name":"NODE_ENV","value":"staging"},{"name":"PORT","value":"3000"},{"name":"COGNITO_REGION","value":"us-west-2"},{"name":"COGNITO_USER_POOL_ID","value":{"Fn::ImportValue":"staging-staging-cognito:ExportsOutputRefUserPool6BA7E5F296FD7236"}},{"name":"COGNITO_CLIENT_ID","value":{"Fn::ImportValue":"staging-staging-cognito:ExportsOutputRefUserPoolClient2F5918F753847A55"}},{"name":"COGNITO_DOMAIN","value":{"Fn::Join":["",["https://",{"Fn::ImportValue":"staging-staging-cognito:ExportsOutputRefUserPoolUserPoolDomain9F01E991C1F75B8B"},".auth.us-west-2.amazoncognito.com"]]}},{"name":"COGNITO_LOGOUT_URI","value":"https://staging.app.signalcraftcoop.com/"},{"name":"WEB_ORIGIN","value":{"Ref":"WebOrigin"}},{"name":"DB_SSLMODE","value":"verify-full"},{"name":"DB_SSL_REJECT_UNAUTHORIZED","value":"true"},{"name":"DB_SSL_CA_PATH","value":"/app/certs/rds-ca.pem"}],"secrets":[{"name":"DB_HOST","valueFrom":{"Fn::Join":["",[{"Fn::ImportValue":"staging-staging-data:ExportsOutputRefPostgresSecretAttachment75CD6F6F9ED7447B"},":host::"]]}},{"name":"DB_PORT","valueFrom":{"Fn::Join":["",[{"Fn::ImportValue":"staging-staging-data:ExportsOutputRefPostgresSecretAttachment75CD6F6F9ED7447B"},":port::"]]}},{"name":"DB_NAME","valueFrom":{"Fn::Join":["",[{"Fn::ImportValue":"staging-staging-data:ExportsOutputRefPostgresSecretAttachment75CD6F6F9ED7447B"},":dbname::"]]}},{"name":"DB_USER","valueFrom":{"Fn::Join":["",[{"Fn::ImportValue":"staging-staging-data:ExportsOutputRefPostgresSecretAttachment75CD6F6F9ED7447B"},":username::"]]}},{"name":"DB_PASSWORD","valueFrom":{"Fn::Join":["",[{"Fn::ImportValue":"staging-staging-data:ExportsOutputRefPostgresSecretAttachment75CD6F6F9ED7447B"},":password::"]]}}]}],"cpu":"256","executionRoleArn":{"Fn::GetAtt":["ApiServiceTaskDefExecutionRole43B90DD6","Arn"]},"family":"signalcraftstagingstagingapiApiServiceTaskDef9E66C782","memory":"512","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["ApiServiceTaskDefTaskRole1014CB34","Arn"]}}}},"web":{"id":"web","path":"signalcraft-staging/staging-api/ApiService/TaskDef/web","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.237.0"}},"ExecutionRole":{"id":"ExecutionRole","path":"signalcraft-staging/staging-api/ApiService/TaskDef/ExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-api/ApiService/TaskDef/ExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"signalcraft-staging/staging-api/ApiService/TaskDef/ExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-api/ApiService/TaskDef/ExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ecr:BatchCheckLayerAvailability","ecr:GetDownloadUrlForLayer","ecr:BatchGetImage"],"Effect":"Allow","Resource":{"Fn::GetAtt":["ApiRepositoryB8378B43","Arn"]}},{"Action":"ecr:GetAuthorizationToken","Effect":"Allow","Resource":"*"},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["ApiLogs3D05D88B","Arn"]}},{"Action":["secretsmanager:GetSecretValue","secretsmanager:DescribeSecret"],"Effect":"Allow","Resource":{"Fn::ImportValue":"staging-staging-data:ExportsOutputRefPostgresSecretAttachment75CD6F6F9ED7447B"}}],"Version":"2012-10-17"},"policyName":"ApiServiceTaskDefExecutionRoleDefaultPolicyDCB48050","roles":[{"Ref":"ApiServiceTaskDefExecutionRole43B90DD6"}]}}}}}}}}},"Service":{"id":"Service","path":"signalcraft-staging/staging-api/ApiService/Service","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"2.237.0"},"children":{"Service":{"id":"Service","path":"signalcraft-staging/staging-api/ApiService/Service/Service","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Ref":"ClusterEB0386A7"},"deploymentConfiguration":{"maximumPercent":200,"minimumHealthyPercent":50,"alarms":{"alarmNames":[],"enable":false,"rollback":false}},"desiredCount":1,"enableEcsManagedTags":false,"healthCheckGracePeriodSeconds":60,"launchType":"FARGATE","loadBalancers":[{"targetGroupArn":{"Ref":"ApiServiceLBPublicListenerECSGroup14A87FE9"},"containerName":"web","containerPort":3000},{"targetGroupArn":{"Ref":"ApiServiceLBHttpsListenerHttpsTargetsGroup550E69B1"},"containerName":"web","containerPort":3000}],"networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"DISABLED","subnets":[{"Fn::ImportValue":"staging-staging-network:ExportsOutputRefVpcprivateSubnet1SubnetCEAD37168693D373"},{"Fn::ImportValue":"staging-staging-network:ExportsOutputRefVpcprivateSubnet2Subnet2DE7549CDF5ACE3D"}],"securityGroups":[{"Fn::GetAtt":["ApiServiceSecurityGroup2592096B","GroupId"]}]}},"taskDefinition":{"Ref":"ApiServiceTaskDefDF3191FB"}}}},"SecurityGroup":{"id":"SecurityGroup","path":"signalcraft-staging/staging-api/ApiService/Service/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-api/ApiService/Service/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"signalcraft-staging/staging-api/ApiService/Service/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Fn::ImportValue":"staging-staging-network:ExportsOutputRefVpc8378EB38272D6E3A"}}}},"from signalcraftstagingstagingapiApiServiceLBSecurityGroupAE3BAFDF:3000":{"id":"from signalcraftstagingstagingapiApiServiceLBSecurityGroupAE3BAFDF:3000","path":"signalcraft-staging/staging-api/ApiService/Service/SecurityGroup/from signalcraftstagingstagingapiApiServiceLBSecurityGroupAE3BAFDF:3000","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Load balancer to target","fromPort":3000,"groupId":{"Fn::GetAtt":["ApiServiceSecurityGroup2592096B","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["ApiServiceLBSecurityGroup5C16BEF8","GroupId"]},"toPort":3000}}}}}}}}},"HostedZone":{"id":"HostedZone","path":"signalcraft-staging/staging-api/HostedZone","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.237.0"}},"ApiCertificate":{"id":"ApiCertificate","path":"signalcraft-staging/staging-api/ApiCertificate","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.Certificate","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-api/ApiCertificate/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.CfnCertificate","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CertificateManager::Certificate","aws:cdk:cloudformation:props":{"domainName":"staging.api.signalcraftcoop.com","domainValidationOptions":[{"domainName":"staging.api.signalcraftcoop.com","hostedZoneId":"Z09892993TR3DJNYURCX2"}],"tags":[{"key":"Name","value":"signalcraft-staging/staging-api/ApiCertificate"}],"validationMethod":"DNS"}}}}},"ApiAliasRecord":{"id":"ApiAliasRecord","path":"signalcraft-staging/staging-api/ApiAliasRecord","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.ARecord","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-api/ApiAliasRecord/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"aliasTarget":{"hostedZoneId":{"Fn::GetAtt":["ApiServiceLB08B891CD","CanonicalHostedZoneID"]},"dnsName":{"Fn::Join":["",["dualstack.",{"Fn::GetAtt":["ApiServiceLB08B891CD","DNSName"]}]]}},"hostedZoneId":"Z09892993TR3DJNYURCX2","name":"staging.api.signalcraftcoop.com.","type":"A"}}}}},"ApiAliasRecordV6":{"id":"ApiAliasRecordV6","path":"signalcraft-staging/staging-api/ApiAliasRecordV6","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.AaaaRecord","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-api/ApiAliasRecordV6/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"aliasTarget":{"hostedZoneId":{"Fn::GetAtt":["ApiServiceLB08B891CD","CanonicalHostedZoneID"]},"dnsName":{"Fn::Join":["",["dualstack.",{"Fn::GetAtt":["ApiServiceLB08B891CD","DNSName"]}]]}},"hostedZoneId":"Z09892993TR3DJNYURCX2","name":"staging.api.signalcraftcoop.com.","type":"AAAA"}}}}},"ApiLoadBalancerDns":{"id":"ApiLoadBalancerDns","path":"signalcraft-staging/staging-api/ApiLoadBalancerDns","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.237.0"}},"ApiRepositoryUri":{"id":"ApiRepositoryUri","path":"signalcraft-staging/staging-api/ApiRepositoryUri","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.237.0"}},"ApiDomain":{"id":"ApiDomain","path":"signalcraft-staging/staging-api/ApiDomain","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.237.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"signalcraft-staging/staging-api/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"signalcraft-staging/staging-api/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.237.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"signalcraft-staging/staging-api/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.237.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"signalcraft-staging/staging-api/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.237.0"}}}},"staging-web":{"id":"staging-web","path":"signalcraft-staging/staging-web","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.237.0"},"children":{"HostedZone":{"id":"HostedZone","path":"signalcraft-staging/staging-web/HostedZone","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.237.0"}},"WebBucket":{"id":"WebBucket","path":"signalcraft-staging/staging-web/WebBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-web/WebBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"}]}}},"Policy":{"id":"Policy","path":"signalcraft-staging/staging-web/WebBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-web/WebBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"WebBucket12880F5B"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["WebBucket12880F5B","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["WebBucket12880F5B","Arn"]},"/*"]]}]},{"Action":["s3:PutBucketPolicy","s3:GetBucket*","s3:List*","s3:DeleteObject*"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["WebBucket12880F5B","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["WebBucket12880F5B","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Principal":{"CanonicalUser":{"Fn::GetAtt":["WebOAI6A7C4516","S3CanonicalUserId"]}},"Resource":[{"Fn::GetAtt":["WebBucket12880F5B","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["WebBucket12880F5B","Arn"]},"/*"]]}]},{"Action":"s3:GetObject","Effect":"Allow","Principal":{"CanonicalUser":{"Fn::GetAtt":["WebOAI6A7C4516","S3CanonicalUserId"]}},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["WebBucket12880F5B","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"signalcraft-staging/staging-web/WebBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.237.0"},"children":{"Default":{"id":"Default","path":"signalcraft-staging/staging-web/WebBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.237.0"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"signalcraft-staging/staging-web/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.237.0"},"children":{"Staging":{"id":"Staging","path":"signalcraft-staging/staging-web/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.237.0"}},"Role":{"id":"Role","path":"signalcraft-staging/staging-web/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.237.0"}},"Handler":{"id":"Handler","path":"signalcraft-staging/staging-web/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.237.0"}}}},"WebOAI":{"id":"WebOAI","path":"signalcraft-staging/staging-web/WebOAI","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.OriginAccessIdentity","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-web/WebOAI/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCloudFrontOriginAccessIdentity","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CloudFrontOriginAccessIdentity","aws:cdk:cloudformation:props":{"cloudFrontOriginAccessIdentityConfig":{"comment":"Allows CloudFront to reach the bucket"}}}}}},"WebCertificate":{"id":"WebCertificate","path":"signalcraft-staging/staging-web/WebCertificate","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.DnsValidatedCertificate","version":"2.237.0"},"children":{"CertificateRequestorFunction":{"id":"CertificateRequestorFunction","path":"signalcraft-staging/staging-web/WebCertificate/CertificateRequestorFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.237.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"signalcraft-staging/staging-web/WebCertificate/CertificateRequestorFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-web/WebCertificate/CertificateRequestorFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"signalcraft-staging/staging-web/WebCertificate/CertificateRequestorFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-web/WebCertificate/CertificateRequestorFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["acm:RequestCertificate","acm:DescribeCertificate","acm:DeleteCertificate","acm:AddTagsToCertificate"],"Effect":"Allow","Resource":"*"},{"Action":"route53:GetChange","Effect":"Allow","Resource":"*"},{"Action":"route53:changeResourceRecordSets","Condition":{"ForAllValues:StringEquals":{"route53:ChangeResourceRecordSetsRecordTypes":["CNAME"],"route53:ChangeResourceRecordSetsActions":["UPSERT"]},"ForAllValues:StringLike":{"route53:ChangeResourceRecordSetsNormalizedRecordNames":["*.staging.app.signalcraftcoop.com"]}},"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":route53:::hostedzone/Z09892993TR3DJNYURCX2"]]}}],"Version":"2012-10-17"},"policyName":"WebCertificateCertificateRequestorFunctionServiceRoleDefaultPolicy0226058A","roles":[{"Ref":"WebCertificateCertificateRequestorFunctionServiceRoleA1705B14"}]}}}}}}},"Code":{"id":"Code","path":"signalcraft-staging/staging-web/WebCertificate/CertificateRequestorFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.237.0"},"children":{"Stage":{"id":"Stage","path":"signalcraft-staging/staging-web/WebCertificate/CertificateRequestorFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.237.0"}},"AssetBucket":{"id":"AssetBucket","path":"signalcraft-staging/staging-web/WebCertificate/CertificateRequestorFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.237.0"}}}},"Resource":{"id":"Resource","path":"signalcraft-staging/staging-web/WebCertificate/CertificateRequestorFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-089080661826-us-west-2","s3Key":"b073cebcf4d61fb152a30f5a5e57a94df7f980a549fdf1a79a0b18c5750522d8.zip"},"handler":"index.certificateRequestHandler","role":{"Fn::GetAtt":["WebCertificateCertificateRequestorFunctionServiceRoleA1705B14","Arn"]},"runtime":"nodejs22.x","timeout":900}}}}},"CertificateRequestorResource":{"id":"CertificateRequestorResource","path":"signalcraft-staging/staging-web/WebCertificate/CertificateRequestorResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.237.0"},"children":{"Default":{"id":"Default","path":"signalcraft-staging/staging-web/WebCertificate/CertificateRequestorResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.237.0"}}}}}},"WebDistribution":{"id":"WebDistribution","path":"signalcraft-staging/staging-web/WebDistribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.237.0"},"children":{"Origin1":{"id":"Origin1","path":"signalcraft-staging/staging-web/WebDistribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"}},"Resource":{"id":"Resource","path":"signalcraft-staging/staging-web/WebDistribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":{"Fn::GetAtt":["WebBucket12880F5B","RegionalDomainName"]},"id":"signalcraftstagingstagingwebWebDistributionOrigin1F56FC1EC","s3OriginConfig":{"originAccessIdentity":{"Fn::Join":["",["origin-access-identity/cloudfront/",{"Ref":"WebOAI6A7C4516"}]]}}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"signalcraftstagingstagingwebWebDistributionOrigin1F56FC1EC","cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"viewerProtocolPolicy":"redirect-to-https"},"aliases":["staging.app.signalcraftcoop.com"],"customErrorResponses":[{"errorCachingMinTtl":300,"errorCode":403,"responseCode":200,"responsePagePath":"/index.html"},{"errorCachingMinTtl":300,"errorCode":404,"responseCode":200,"responsePagePath":"/index.html"}],"defaultRootObject":"index.html","httpVersion":"http2","ipv6Enabled":true,"viewerCertificate":{"acmCertificateArn":{"Fn::GetAtt":["WebCertificateCertificateRequestorResourceC78570F7","Arn"]},"minimumProtocolVersion":"TLSv1.2_2021","sslSupportMethod":"sni-only"}}}}}}},"WebAliasRecord":{"id":"WebAliasRecord","path":"signalcraft-staging/staging-web/WebAliasRecord","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.ARecord","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-web/WebAliasRecord/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"aliasTarget":{"hostedZoneId":{"Fn::FindInMap":["AWSCloudFrontPartitionHostedZoneIdMap",{"Ref":"AWS::Partition"},"zoneId"]},"dnsName":{"Fn::GetAtt":["WebDistribution59C46482","DomainName"]}},"hostedZoneId":"Z09892993TR3DJNYURCX2","name":"staging.app.signalcraftcoop.com.","type":"A"}}}}},"AWSCloudFrontPartitionHostedZoneIdMap":{"id":"AWSCloudFrontPartitionHostedZoneIdMap","path":"signalcraft-staging/staging-web/AWSCloudFrontPartitionHostedZoneIdMap","constructInfo":{"fqn":"aws-cdk-lib.CfnMapping","version":"2.237.0"}},"WebAliasRecordV6":{"id":"WebAliasRecordV6","path":"signalcraft-staging/staging-web/WebAliasRecordV6","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.AaaaRecord","version":"2.237.0"},"children":{"Resource":{"id":"Resource","path":"signalcraft-staging/staging-web/WebAliasRecordV6/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.237.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"aliasTarget":{"hostedZoneId":{"Fn::FindInMap":["AWSCloudFrontPartitionHostedZoneIdMap",{"Ref":"AWS::Partition"},"zoneId"]},"dnsName":{"Fn::GetAtt":["WebDistribution59C46482","DomainName"]}},"hostedZoneId":"Z09892993TR3DJNYURCX2","name":"staging.app.signalcraftcoop.com.","type":"AAAA"}}}}},"WebBucketName":{"id":"WebBucketName","path":"signalcraft-staging/staging-web/WebBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.237.0"}},"WebDistributionId":{"id":"WebDistributionId","path":"signalcraft-staging/staging-web/WebDistributionId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.237.0"}},"WebDistributionDomainName":{"id":"WebDistributionDomainName","path":"signalcraft-staging/staging-web/WebDistributionDomainName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.237.0"}},"WebUrl":{"id":"WebUrl","path":"signalcraft-staging/staging-web/WebUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.237.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"signalcraft-staging/staging-web/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"signalcraft-staging/staging-web/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.237.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"signalcraft-staging/staging-web/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.237.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"signalcraft-staging/staging-web/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.237.0"}}}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"}}}}}